# UART-Transceiver-Implementation-in-FPGA

![UART Simulation]([https://github.com/LahiruCooray/UART-Transceiver-Implementation-in-FPGA/blob/529654558eba0ed07083b1e0b160f934d37cbdc0/Images/UART%20Implementation.jpg])

This repository contains the Verilog HDL implementation of a UART (Universal Asynchronous Receiver/Transmitter) transceiver on FPGA. 
The project includes:

Design Files: Verilog HDL code for UART transmitter and receiver modules.
Simulation: Testbenches for verifying functionality and performance of the UART transceiver.

This project implements a Universal Asynchronous Receiver-Transmitter (UART) communication system on an FPGA. The design consists of a top-level module that integrates a baud rate generator, a transmitter, and a receiver. Each of these components is crucial for managing data transmission and reception over UART. Below is a detailed explanation of each module in the design.

# Baud Rate Generator
The baudrate module is responsible for generating the clock enable signals required for UART communication. It divides the 50 MHz system clock to produce the appropriate clock frequencies for the transmitter and receiver, which are essential for achieving the desired baud rate of 115200 bits per second.

In this module, two parameters, RX_ACC_MAX and TX_ACC_MAX, are calculated to determine the number of clock cycles needed for one bit period for the receiver and transmitter, respectively. For the receiver, this involves oversampling by 16 times to ensure accurate data capture. The bit-widths of the accumulators are dynamically determined based on these maximum values.

The module contains two registers, rx_acc and tx_acc, which accumulate clock cycles for the receiver and transmitter. The Rxclk_en and Txclk_en outputs are set when these accumulators reach their maximum values, providing the necessary clock enable signals. The accumulators are reset to zero once they reach their maximum values, ensuring continuous generation of clock signals.

# Transmitter
The transmitter module manages the process of sending data over UART. It operates using a state machine to handle the transmission of an 8-bit data word, including the start and stop bits required by the UART protocol.

The module defines four states: TX_STATE_IDLE, TX_STATE_START, TX_STATE_DATA, and TX_STATE_STOP. Initially, the transmitter is in the TX_STATE_IDLE state, waiting for the wr_en (write enable) signal to start transmission. When wr_en is asserted, the transmitter moves to the TX_STATE_START state and sends a start bit (logic 0). It then transitions to the TX_STATE_DATA state, where it transmits each bit of the data word. Once all data bits are sent, the module enters the TX_STATE_STOP state, sending a stop bit (logic 1) before returning to the idle state.

The Tx_busy output indicates whether the transmitter is currently engaged in sending data. The module updates its internal registers and state transitions based on the clock enable signal (clken) generated by the baud rate generator.

# Receiver
The receiver module handles the reception of data over UART. It uses a state machine and oversamples the incoming data at 16 times the baud rate to accurately capture each bit of the data word.

The module starts in the RX_STATE_START state, where it waits for the start bit (logic 0). Once detected, it transitions to the RX_STATE_DATA state to begin sampling the incoming data bits. The data is collected into an internal register (scratch) and is shifted based on the current bit position. After all eight data bits are sampled, the module moves to the RX_STATE_STOP state to verify the stop bit (logic 1) and then resets to the RX_STATE_START state to prepare for the next data reception.

The ready output indicates when the received data is available to be read. The ready_clr input is used to clear this status, while the data output provides the received 8-bit data.

# Top-Level Module
The uart_top module integrates the baudrate, transmitter, and receiver modules into a single system. It connects the data input (data_in), control signals (wr_en, clear, ready_clr), and output signals (Tx, Tx_busy, Rx, ready, data_out) to facilitate UART communication. It also drives LEDs and an additional transmission output (Tx2) for visualization and debugging purposes.

The top-level module ensures that the transmitter and receiver operate with the correct clock enable signals generated by the baud rate generator. It connects the input and output data between the different modules, enabling the complete UART communication system.
